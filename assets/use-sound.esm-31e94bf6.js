import{U as u,r as C,V as L}from"./index-65de63ed.js";function s(){return s=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var r=arguments[o];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(null,arguments)}function $(e,o){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(o.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function j(e){C.useEffect(e,[])}var V=["id","volume","playbackRate","soundEnabled","interrupt","onload"];function M(e,o){var r=o===void 0?{}:o,n=r.volume,i=n===void 0?1:n,v=r.playbackRate,c=v===void 0?1:v,p=r.soundEnabled,b=p===void 0?!0:p,y=r.interrupt,_=y===void 0?!1:y,h=r.onload,R=$(r,V),l=u.useRef(null),f=u.useRef(!1),m=u.useState(null),O=m[0],S=m[1],E=u.useState(null),t=E[0],k=E[1],g=function(){typeof h=="function"&&h.call(this),f.current&&S(this.duration()*1e3),k(this)};j(function(){return L(()=>import("./howler-16b4cc3a.js").then(a=>a.h),["./howler-16b4cc3a.js","./index-65de63ed.js","./index-bd331685.css"],import.meta.url).then(function(a){if(!f.current){var d;l.current=(d=a.Howl)!==null&&d!==void 0?d:a.default.Howl,f.current=!0,new l.current(s({src:Array.isArray(e)?e:[e],volume:i,rate:c,onload:g},R))}}),function(){f.current=!1}}),u.useEffect(function(){l.current&&t&&k(new l.current(s({src:Array.isArray(e)?e:[e],volume:i,onload:g},R)))},[JSON.stringify(e)]),u.useEffect(function(){t&&(t.volume(i),t.rate(c))},[t,i,c]);var w=u.useCallback(function(a){typeof a>"u"&&(a={}),!(!t||!b&&!a.forceSoundEnabled)&&(_&&t.stop(),a.playbackRate&&t.rate(a.playbackRate),t.play(a.id))},[t,b,_]),x=u.useCallback(function(a){t&&t.stop(a)},[t]),A=u.useCallback(function(a){t&&t.pause(a)},[t]),P=[w,{sound:t,stop:x,pause:A,duration:O}];return P}export{M as u};
